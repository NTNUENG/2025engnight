<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 English Night Dinner Selection</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha256-2Pjr1OlpZMY6qesJM68t2v39t+lMLvxwpa8QlRjJroA=" crossorigin="anonymous"></script>
    <style>
        :root {
            --primary: #733335;
            --accent: #ffb3b2;
            --dark: #1a1111;
            --light: #f0dede;
        }

        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #140c0c 0%, #1a1111 100%);
            color: var(--light);
            min-height: 100dvh;
            margin: 0;
            display: flex;
        }

        .form-container {
            min-width: max(20em, 50dvw);
            margin: auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            height: 100%;
        }

        .form-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .form-header h1 {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        .form-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        .form-step {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            max-height: 0;
            overflow: hidden;
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .form-step.active {
            opacity: 1;
            transform: translateY(0);
            max-height: 1000px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            color: var(--accent);
            position: relative;
            padding-left: 1.8rem;
        }

        .form-label::before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 1.4rem;
            top: -0.1rem;
        }

        input[type="text"],
        select {
            width: 100%;
            padding: 0.8rem 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.03);
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus,
        select:focus {
            border-color: var(--accent);
            outline: none;
            background: #ffb3b20d;
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .radio-card {
            padding: 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .radio-card:hover {
            border-color: var(--accent);
            background: #ffb3b20d;
        }

        .radio-card input {
            opacity: 0;
            position: absolute;
        }

        .radio-card.selected {
            border-color: var(--accent);
            background: #ffb3b21a;
        }

        .progress-bar {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            margin: 2rem;
            border-radius: 2px;
        }

        .progress-fill {
            height: 100%;
            width: 0;
            background: var(--accent);
            transition: width 0.4s ease;
            border-radius: 2px;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .nav-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: var(--accent);
            color: var(--primary);
        }

        .submit-btn {
            background: var(--accent);
            color: var(--primary);
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px #ffb3b24d;
        }
    </style>
</head>

<body>
    <div class="progress-bar">
        <div class="progress-fill"></div>
    </div>

    <div class="form-container">

        <form action="https://docs.google.com/forms/d/e/1FAIpQLScJuUGtvH1WLYn_RffoCOvtrnX-s6qSU_7kxlT03R92zwCNLw/formResponse" target="_self" id="bootstrapForm" method="POST">
            <!-- Step 1: Student ID -->
            <div class="form-step active" data-step="1">
                <label class="form-label">Â≠∏Ëôü</label>
                <input type="text" name="entry.228829447" required placeholder="Ë´ãËº∏ÂÖ•Â≠∏Ëôü">
            </div>

            <!-- Step 2: Name Selection -->
            <div class="form-step" data-step="2">
                <label class="form-label">ÂßìÂêç</label>
                <select name="entry.1210925476" required>
                    <option value="" disabled selected>ÈÅ∏ÊìáÂßìÂêç</option>
                    <option value="Âπ≥ÈùñÊÅ©">Âπ≥ÈùñÊÅ©</option>
                    <option value="ÂÇÖÂª∫‰ªÅ">ÂÇÖÂª∫‰ªÅ</option>
                    <!-- Add all other names here -->
                </select>
            </div>

            <!-- Step 3: Dinner Choice -->
            <div class="form-step" data-step="3">
                <label class="form-label">ÊôöÈ§êÈúÄÊ±Ç</label>
                <div class="radio-group">
                    <div class="radio-card" onclick="selectDinnerOption(this, true)">
                        <input type="radio" name="entry.506560263" value="ÊòØÔºå‰∏ÄËµ∑ÂêÉÂÖ´ÊñπÈõ≤ÈõÜÈçãË≤º„ÄÇ" required>
                        <h3>ÂúòÈ´îË®ÇÈ§ê</h3>
                        <p>ÂÖ´ÊñπÈõ≤ÈõÜÈçãË≤ºÂ•óÈ§ê</p>
                    </div>
                    <div class="radio-card" onclick="selectDinnerOption(this, false)">
                        <input type="radio" name="entry.506560263" value="Âê¶ÔºåÊàëÊúÉËá™Ë°åÊîúÂ∏∂ÊôöÈ§ê„ÄÇ" required>
                        <h3>Ëá™ÂÇôÈ§êÈªû</h3>
                        <p>Ëá™Ë°åÊîúÂ∏∂ÊôöÈ§ê</p>
                    </div>
                </div>
            </div>

            <!-- Step 4: Food Selection -->
            <div class="form-step" data-step="4">
                <label class="form-label">Âè£Âë≥ÈÅ∏Êìá</label>
                <div class="radio-group">
                    <div class="radio-card" onclick="toggleSelection(this)">
                        <input type="radio" name="entry.40841629" value="ÊãõÁâåÈçãË≤º" required>
                        ÊãõÁâåÈçãË≤º
                    </div>
                    <div class="radio-card" onclick="toggleSelection(this)">
                        <input type="radio" name="entry.40841629" value="Èü≠ËèúÈçãË≤º" required>
                        Èü≠ËèúÈçãË≤º
                    </div>
                    <!-- Add other flavor options -->
                </div>
            </div>

            <!-- Step 5: CAPTCHA -->
            <div class="form-step" data-step="5">
                <label class="form-label">ÂÆâÂÖ®È©óË≠â</label>
                <div class="radio-group">
                    <div class="radio-card" onclick="toggleSelection(this)">
                        <input type="radio" name="entry.1221465876" value="Êàë‰∏çÊòØÊ©üÂô®‰∫∫„ÄÇ" required>
                        üôã Áúü‰∫∫È©óË≠â
                    </div>
                    <div class="radio-card" onclick="toggleSelection(this)">
                        <input type="radio" name="entry.1221465876" value="ÊàëÊòØÊ©üÂô®‰∫∫„ÄÇ" required>
                        ü§ñ Ê©üÂô®‰∫∫ËÅ≤Êòé
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button type="button" class="nav-button" onclick="previousStep()">‰∏ä‰∏ÄÊ≠•</button>
                <button type="button" class="nav-button" onclick="nextStep()">‰∏ã‰∏ÄÊ≠•</button>
            </div>

            <input type="hidden" name="fvv" value="1">
            <input type="hidden" name="fbzx" value="-1732108554745654499">
            <input type="hidden" name="pageHistory" value="0,1,2">
        </form>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        let requiresDinner = true;

        function updateProgress() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            document.querySelector('.progress-fill').style.width = `${progress}%`;
        }

        function toggleSteps() {
            document.querySelectorAll('.form-step').forEach(step => {
                const stepNumber = parseInt(step.dataset.step);
                const shouldShow = stepNumber === currentStep &&
                    !(stepNumber === 4 && !requiresDinner);

                step.classList.toggle('active', shouldShow);
                step.style.display = shouldShow ? 'block' : 'none';
            });

            const navButtons = document.querySelector('.nav-buttons');
            if (currentStep === totalSteps) {
                navButtons.innerHTML = `<button type="submit" class="submit-btn">Êèê‰∫§ÈÅ∏Êìá</button>`;
            } else {
                navButtons.style.display = 'flex';
            }
        }

        function selectDinnerOption(card, needsDinner) {
            requiresDinner = needsDinner;
            if (!needsDinner) currentStep = 5;
            toggleSelection(card);
            nextStep();
        }

        function toggleSelection(card) {
            document.querySelectorAll('.radio-card').forEach(c =>
                c.classList.remove('selected'));
            card.classList.add('selected');
            card.querySelector('input').checked = true;
        }

        function nextStep() {
            const currentStepEl = document.querySelector(`[data-step="${currentStep}"]`);
            const isValid = currentStepEl.querySelectorAll(':invalid').length === 0;

            if (isValid) {
                currentStep = Math.min(currentStep + 1, totalSteps);
                if (!requiresDinner && currentStep === 4) currentStep = 5;
                updateProgress();
                toggleSteps();
            } else {
                currentStepEl.querySelectorAll('input:invalid').forEach(input => {
                    input.parentElement.classList.add('error');
                });
            }
        }

        function previousStep() {
            currentStep = Math.max(currentStep - 1, 1);
            if (!requiresDinner && currentStep === 4) currentStep = 3;
            updateProgress();
            toggleSteps();
        }

        // Initialize form
        toggleSteps();
        updateProgress();
    </script>
    <script>
        $('#bootstrapForm').submit(function (event) {
            event.preventDefault()
            var extraData = {}
            $('#bootstrapForm').ajaxSubmit({
                data: extraData,
                dataType: 'jsonp',  // This won't really work. It's just to use a GET instead of a POST to allow cookies from different domain.
                error: function () {
                    // Submit of form should be successful but JSONP callback will fail because Google Forms
                    // does not support it, so this is handled as a failure.
                    alert('Form Submitted. Thanks.')
                    // You can also redirect the user to a custom thank-you page:
                    // window.location = 'http://www.mydomain.com/thankyoupage.html'
                }
            })
        })
    </script>
</body>

</html>